{"ast":null,"code":"import _regeneratorRuntime from\"/home/david/Escritorio/React/08-journal-app-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/david/Escritorio/React/08-journal-app-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Swal from'sweetalert2';import{firebase,googleAuthProvider}from'../firebase/firebase-config';import{types}from\"../types/types\";import{finishLoading,startLoading}from'./ui';export var startLoginEmailPassword=function startLoginEmailPassword(email,password){return function(dispatch){dispatch(startLoading());firebase.auth().signInWithEmailAndPassword(email,password).then(function(_ref){var user=_ref.user;dispatch(login(user.uid,user.displayName));dispatch(finishLoading());}).catch(function(e){dispatch(finishLoading());Swal.fire('Error',e.message,'error');});};};export var startRegisterWithEmailPasswordName=function startRegisterWithEmailPasswordName(email,password,name){return function(dispatch){firebase.auth().createUserWithEmailAndPassword(email,password).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user=_ref2.user;_context.next=3;return user.updateProfile({displayName:name});case 3:dispatch(login(user.uid,user.displayName));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}()).catch(function(e){Swal.fire('Error',e.message,'error');});};};export var startGoogleLogin=function startGoogleLogin(){return function(dispatch){firebase.auth().signInWithPopup(googleAuthProvider).then(function(_ref4){var user=_ref4.user;dispatch(login(user.uid,user.displayName));});};};export var login=function login(uid,displayName){return{type:types.login,payload:{uid:uid,displayName:displayName}};};export var startLogout=function startLogout(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return firebase.auth().signOut();case 2:dispatch(logout());case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref5.apply(this,arguments);};}();};export var logout=function logout(){return{type:types.logout};};","map":{"version":3,"sources":["/home/david/Escritorio/React/08-journal-app-19/src/actions/auth.js"],"names":["Swal","firebase","googleAuthProvider","types","finishLoading","startLoading","startLoginEmailPassword","email","password","dispatch","auth","signInWithEmailAndPassword","then","user","login","uid","displayName","catch","e","fire","message","startRegisterWithEmailPasswordName","name","createUserWithEmailAndPassword","updateProfile","startGoogleLogin","signInWithPopup","type","payload","startLogout","signOut","logout"],"mappings":"uUAAA,MAAOA,CAAAA,IAAP,KAAiB,aAAjB,CACA,OAASC,QAAT,CAAmBC,kBAAnB,KAA6C,6BAA7C,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,aAAT,CAAwBC,YAAxB,KAA4C,MAA5C,CAEA,MAAO,IAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACC,KAAD,CAAQC,QAAR,CAAqB,CACxD,MAAO,UAACC,QAAD,CAAc,CACjBA,QAAQ,CAACJ,YAAY,EAAb,CAAR,CAEAJ,QAAQ,CAACS,IAAT,GAAgBC,0BAAhB,CAA2CJ,KAA3C,CAAkDC,QAAlD,EACKI,IADL,CACU,cAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CAChBJ,QAAQ,CAACK,KAAK,CAACD,IAAI,CAACE,GAAN,CAAWF,IAAI,CAACG,WAAhB,CAAN,CAAR,CAEAP,QAAQ,CAACL,aAAa,EAAd,CAAR,CACH,CALL,EAMKa,KANL,CAMW,SAAAC,CAAC,CAAI,CACRT,QAAQ,CAACL,aAAa,EAAd,CAAR,CACAJ,IAAI,CAACmB,IAAL,CAAU,OAAV,CAAmBD,CAAC,CAACE,OAArB,CAA8B,OAA9B,EACH,CATL,EAUH,CAbD,CAcH,CAfM,CAiBP,MAAO,IAAMC,CAAAA,kCAAkC,CAAG,QAArCA,CAAAA,kCAAqC,CAACd,KAAD,CAAQC,QAAR,CAAkBc,IAAlB,CAA2B,CACzE,MAAO,UAACb,QAAD,CAAc,CACjBR,QAAQ,CAACS,IAAT,GAAgBa,8BAAhB,CAA+ChB,KAA/C,CAAsDC,QAAtD,EACKI,IADL,2FACU,iJAASC,IAAT,OAASA,IAAT,uBACIA,CAAAA,IAAI,CAACW,aAAL,CAAmB,CAAER,WAAW,CAAEM,IAAf,CAAnB,CADJ,QAEFb,QAAQ,CAAEK,KAAK,CAACD,IAAI,CAACE,GAAN,CAAWF,IAAI,CAACG,WAAhB,CAAP,CAAR,CAFE,sDADV,iEAKKC,KALL,CAKW,SAAAC,CAAC,CAAI,CACRlB,IAAI,CAACmB,IAAL,CAAU,OAAV,CAAmBD,CAAC,CAACE,OAArB,CAA8B,OAA9B,EACH,CAPL,EAQH,CATD,CAUH,CAXM,CAaP,MAAO,IAAMK,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAClC,MAAO,UAAChB,QAAD,CAAc,CACjBR,QAAQ,CAACS,IAAT,GAAgBgB,eAAhB,CAAgCxB,kBAAhC,EACKU,IADL,CACU,eAAc,IAAXC,CAAAA,IAAW,OAAXA,IAAW,CAChBJ,QAAQ,CAAEK,KAAK,CAACD,IAAI,CAACE,GAAN,CAAWF,IAAI,CAACG,WAAhB,CAAP,CAAR,CACH,CAHL,EAIH,CALD,CAMH,CAPM,CASP,MAAO,IAAMF,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,GAAD,CAAMC,WAAN,QAAuB,CAExCW,IAAI,CAAExB,KAAK,CAACW,KAF4B,CAGxCc,OAAO,CAAE,CACLb,GAAG,CAAHA,GADK,CAELC,WAAW,CAAXA,WAFK,CAH+B,CAAvB,EAAd,CAUP,MAAO,IAAMa,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC7B,gGAAO,kBAAMpB,QAAN,6IACGR,CAAAA,QAAQ,CAACS,IAAT,GAAgBoB,OAAhB,EADH,QAGHrB,QAAQ,CAACsB,MAAM,EAAP,CAAR,CAHG,wDAAP,iEAMH,CAPM,CASP,MAAO,IAAMA,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,SAAO,CACzBJ,IAAI,CAAExB,KAAK,CAAC4B,MADa,CAAP,EAAf","sourcesContent":["import Swal from 'sweetalert2';\nimport { firebase, googleAuthProvider } from '../firebase/firebase-config';\nimport { types } from \"../types/types\";\nimport { finishLoading, startLoading } from './ui';\n\nexport const startLoginEmailPassword = (email, password) => {\n    return (dispatch) => {\n        dispatch(startLoading());\n\n        firebase.auth().signInWithEmailAndPassword(email, password)\n            .then(({ user }) => {\n                dispatch(login(user.uid, user.displayName));\n\n                dispatch(finishLoading());\n            })\n            .catch(e => {\n                dispatch(finishLoading());\n                Swal.fire('Error', e.message, 'error');\n            })\n    }\n}\n\nexport const startRegisterWithEmailPasswordName = (email, password, name) => {\n    return (dispatch) => {\n        firebase.auth().createUserWithEmailAndPassword(email, password)\n            .then(async ({ user }) => {\n                await user.updateProfile({ displayName: name });\n                dispatch( login(user.uid, user.displayName));\n            })\n            .catch(e => {\n                Swal.fire('Error', e.message, 'error');\n            })\n    }\n}\n\nexport const startGoogleLogin = () => {\n    return (dispatch) => {\n        firebase.auth().signInWithPopup(googleAuthProvider)\n            .then(({ user }) => {\n                dispatch( login(user.uid, user.displayName));\n            });\n    }\n}\n\nexport const login = (uid, displayName) => ({\n\n    type: types.login,\n    payload: {\n        uid,\n        displayName\n    }\n\n});\n\nexport const startLogout = () => {\n    return async(dispatch) => {\n        await firebase.auth().signOut();\n\n        dispatch(logout());\n\n    }\n}\n\nexport const logout = () => ({\n    type: types.logout\n});"]},"metadata":{},"sourceType":"module"}