{"ast":null,"code":"import _objectSpread from\"/home/david/Escritorio/React/08-journal-app-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/david/Escritorio/React/08-journal-app-19/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import{activeNote,startDeleting}from'../../actions/notes';import{useForm}from'../../hooks/useForm';import{NotesAppBar}from'./NotesAppBar';export var NoteScreen=function NoteScreen(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.notes;}),note=_useSelector.active;var _useForm=useForm(note),_useForm2=_slicedToArray(_useForm,3),formValues=_useForm2[0],handleInputChange=_useForm2[1],reset=_useForm2[2];var body=formValues.body,title=formValues.title,id=formValues.id;var activeId=useRef(note.id);useEffect(function(){if(note.id!==activeId.current){reset(note);activeId.current=note.id;}},[note,reset]);useEffect(function(){dispatch(activeNote(formValues.id,_objectSpread({},formValues)));},[formValues,dispatch]);var handleDelete=function handleDelete(){dispatch(startDeleting(id));};return/*#__PURE__*/React.createElement(\"div\",{className:\"notes__main-content\"},/*#__PURE__*/React.createElement(NotesAppBar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"notes__content\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"title\",placeholder:\"Some awesome title\",className:\"notes__title-input\",autoComplete:\"off\",value:title,onChange:handleInputChange}),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:\"What happend today\",className:\"notes__textarea\",name:\"body\",value:body,onChange:handleInputChange}),note.url&&/*#__PURE__*/React.createElement(\"div\",{className:\"notes__image\"},/*#__PURE__*/React.createElement(\"img\",{src:note.url,alt:\"imagen\"}))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:handleDelete},\" Delete \"));};","map":{"version":3,"sources":["/home/david/Escritorio/React/08-journal-app-19/src/components/notes/NoteScreen.js"],"names":["React","useEffect","useRef","useDispatch","useSelector","activeNote","startDeleting","useForm","NotesAppBar","NoteScreen","dispatch","state","notes","note","active","formValues","handleInputChange","reset","body","title","id","activeId","current","handleDelete","url"],"mappings":"yUAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,aAArB,KAA0C,qBAA1C,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,OAASC,WAAT,KAA4B,eAA5B,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAE5B,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAF4B,iBAINC,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,KAAV,EAAN,CAJL,CAIdC,IAJc,cAIrBC,MAJqB,cAMmBP,OAAO,CAACM,IAAD,CAN1B,sCAMrBE,UANqB,cAMTC,iBANS,cAMUC,KANV,iBAQrBC,CAAAA,IARqB,CAQHH,UARG,CAQrBG,IARqB,CAQhBC,KARgB,CAQHJ,UARG,CAQhBI,KARgB,CAQTC,EARS,CAQHL,UARG,CAQTK,EARS,CAU5B,GAAMC,CAAAA,QAAQ,CAAGnB,MAAM,CAACW,IAAI,CAACO,EAAN,CAAvB,CAEAnB,SAAS,CAAC,UAAM,CACZ,GAAGY,IAAI,CAACO,EAAL,GAAYC,QAAQ,CAACC,OAAxB,CAAgC,CAC5BL,KAAK,CAACJ,IAAD,CAAL,CACAQ,QAAQ,CAACC,OAAT,CAAmBT,IAAI,CAACO,EAAxB,CACH,CAGJ,CAPQ,CAON,CAACP,IAAD,CAAMI,KAAN,CAPM,CAAT,CASAhB,SAAS,CAAC,UAAM,CACZS,QAAQ,CAACL,UAAU,CAACU,UAAU,CAACK,EAAZ,kBAAoBL,UAApB,EAAX,CAAR,CACH,CAFQ,CAEN,CAACA,UAAD,CAAaL,QAAb,CAFM,CAAT,CAIA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvBb,QAAQ,CAACJ,aAAa,CAACc,EAAD,CAAd,CAAR,CACH,CAFD,CAIA,mBACI,2BAAK,SAAS,CAAC,qBAAf,eACI,oBAAC,WAAD,MADJ,cAGI,2BAAK,SAAS,CAAC,gBAAf,eAEI,6BACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,OAFT,CAGI,WAAW,CAAC,oBAHhB,CAII,SAAS,CAAC,oBAJd,CAKI,YAAY,CAAC,KALjB,CAMI,KAAK,CAAED,KANX,CAOI,QAAQ,CAAEH,iBAPd,EAFJ,cAYI,gCACI,WAAW,CAAC,oBADhB,CAEI,SAAS,CAAC,iBAFd,CAGI,IAAI,CAAC,MAHT,CAII,KAAK,CAAEE,IAJX,CAKI,QAAQ,CAAEF,iBALd,EAZJ,CAsBSH,IAAI,CAACW,GAAN,eAEK,2BAAK,SAAS,CAAC,cAAf,eACD,2BACA,GAAG,CAAEX,IAAI,CAACW,GADV,CAEA,GAAG,CAAC,QAFJ,EADC,CAxBb,CAHJ,cAqCI,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAED,YAA5C,aArCJ,CADJ,CA0CH,CAvEM","sourcesContent":["import React, { useEffect, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { activeNote, startDeleting } from '../../actions/notes';\nimport { useForm } from '../../hooks/useForm';\nimport { NotesAppBar } from './NotesAppBar'\n \nexport const NoteScreen = () => {\n\n    const dispatch = useDispatch();\n    \n    const {active:note} = useSelector(state => state.notes); \n    \n    const [formValues, handleInputChange, reset] = useForm(note);\n\n    const {body,title, id} = formValues;\n\n    const activeId = useRef(note.id);\n    \n    useEffect(() => {\n        if(note.id !== activeId.current){\n            reset(note);\n            activeId.current = note.id;\n        }\n\n\n    }, [note,reset]);\n\n    useEffect(() => {\n        dispatch(activeNote(formValues.id, {...formValues}));\n    }, [formValues, dispatch])\n\n    const handleDelete = () => {\n        dispatch(startDeleting(id));\n    }\n\n    return (\n        <div className=\"notes__main-content\">\n            <NotesAppBar/>\n\n            <div className=\"notes__content\">\n                \n                <input \n                    type=\"text\"\n                    name=\"title\"\n                    placeholder=\"Some awesome title\"\n                    className=\"notes__title-input\"\n                    autoComplete=\"off\"\n                    value={title}\n                    onChange={handleInputChange}\n                />\n\n                <textarea\n                    placeholder=\"What happend today\"\n                    className=\"notes__textarea\"\n                    name=\"body\"\n                    value={body}\n                    onChange={handleInputChange}\n                >\n                </textarea>\n\n                {\n                    (note.url)\n                    && \n                        (<div className=\"notes__image\">\n                        <img \n                        src={note.url}\n                        alt=\"imagen\"\n                        />\n                        </div>)\n                }\n\n            </div>\n\n            <button className=\"btn btn-danger\" onClick={handleDelete}> Delete </button>\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}