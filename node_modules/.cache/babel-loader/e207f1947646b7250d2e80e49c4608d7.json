{"ast":null,"code":"var _jsxFileName = \"/home/david/Escritorio/React/08-journal-app-19/src/routers/AppRouter.js\";\nimport React, { useEffect, useState } from 'react';\nimport { firebase } from '../firebase/firebase-config';\nimport { useDispatch } from 'react-redux';\nimport AuthRouter from './AuthRouter';\nimport { JournalScreen } from '../components/journal/JournalScreen';\nimport { login } from '../actions/auth';\nimport { PrivateRouter } from './PrivateRouter';\nimport { loadNotes } from '../helpers/loadNotes';\nimport { PublicRouter } from './PublicRouter';\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nexport const AppRouter = () => {\n  const dispatch = useDispatch();\n  const [cheking, setCheking] = useState(true);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(user => {\n      if (user === null || user === void 0 ? void 0 : user.uid) {\n        dispatch(login(user.uid, user.displayName));\n        setIsLoggedIn(true);\n        const notes = loadNotes(user.uid);\n      } else {\n        setIsLoggedIn(false);\n      }\n\n      setCheking(false);\n    });\n  }, [dispatch, setCheking, setIsLoggedIn]);\n\n  if (cheking) {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, \"Wait...\");\n  }\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PublicRouter, {\n    path: \"/auth\",\n    isAuthenticated: isLoggedIn,\n    component: AuthRouter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(PrivateRouter, {\n    exact: true,\n    path: \"/\",\n    isAuthenticated: isLoggedIn,\n    component: JournalScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/auth/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }))));\n};","map":{"version":3,"sources":["/home/david/Escritorio/React/08-journal-app-19/src/routers/AppRouter.js"],"names":["React","useEffect","useState","firebase","useDispatch","AuthRouter","JournalScreen","login","PrivateRouter","loadNotes","PublicRouter","BrowserRouter","Router","Switch","Redirect","AppRouter","dispatch","cheking","setCheking","isLoggedIn","setIsLoggedIn","auth","onAuthStateChanged","user","uid","displayName","notes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAwB,6BAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,aAAT,QAA8B,qCAA9B;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,SAAT,QAA0B,sBAA1B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SACIC,aAAa,IAAIC,MADrB,EAEIC,MAFJ,EAGIC,QAHJ,QAIO,kBAJP;AAMA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAE3B,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AAEA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBhB,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,KAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,QAAQ,CAACkB,IAAT,GAAgBC,kBAAhB,CAAoCC,IAAD,IAAU;AAEzC,UAAGA,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEC,GAAT,EAAa;AACTR,QAAAA,QAAQ,CAACT,KAAK,CAACgB,IAAI,CAACC,GAAN,EAAWD,IAAI,CAACE,WAAhB,CAAN,CAAR;AACAL,QAAAA,aAAa,CAAC,IAAD,CAAb;AACA,cAAMM,KAAK,GAAGjB,SAAS,CAACc,IAAI,CAACC,GAAN,CAAvB;AAEH,OALD,MAKK;AACDJ,QAAAA,aAAa,CAAC,KAAD,CAAb;AACH;;AAEDF,MAAAA,UAAU,CAAC,KAAD,CAAV;AAEH,KAbD;AAeH,GAhBQ,EAgBN,CAACF,QAAD,EAAWE,UAAX,EAAuBE,aAAvB,CAhBM,CAAT;;AAkBA,MAAGH,OAAH,EAAW;AACP,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ;AAGH;;AAED,sBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,OAAnB;AAA2B,IAAA,eAAe,EAAEE,UAA5C;AAAwD,IAAA,SAAS,EAAEd,UAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAGI,oBAAC,aAAD;AAAe,IAAA,KAAK,MAApB;AAAqB,IAAA,IAAI,EAAC,GAA1B;AAA8B,IAAA,eAAe,EAAEc,UAA/C;AAA2D,IAAA,SAAS,EAAEb,aAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAKI,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADJ,CADJ,CADJ;AAeH,CA/CM","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { firebase} from '../firebase/firebase-config';\nimport { useDispatch } from 'react-redux';\nimport AuthRouter from './AuthRouter';\nimport { JournalScreen } from '../components/journal/JournalScreen';\nimport { login } from '../actions/auth';\nimport { PrivateRouter } from './PrivateRouter';\nimport { loadNotes } from '../helpers/loadNotes';\nimport { PublicRouter } from './PublicRouter';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Redirect\n} from \"react-router-dom\";\n\nexport const AppRouter = () => {\n\n    const dispatch = useDispatch();\n\n    const [cheking, setCheking] = useState(true);\n\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n    useEffect(() => {\n        firebase.auth().onAuthStateChanged((user) => {\n            \n            if(user?.uid){\n                dispatch(login(user.uid, user.displayName));\n                setIsLoggedIn(true);\n                const notes = loadNotes(user.uid);\n\n            }else{\n                setIsLoggedIn(false);\n            }\n\n            setCheking(false);\n            \n        });\n\n    }, [dispatch, setCheking, setIsLoggedIn])\n\n    if(cheking){\n        return(\n            <h1>Wait...</h1>\n        )\n    }\n\n    return (\n        <Router>\n            <div>\n                <Switch>\n                    <PublicRouter path=\"/auth\" isAuthenticated={isLoggedIn} component={AuthRouter} />\n\n                    <PrivateRouter exact path=\"/\" isAuthenticated={isLoggedIn} component={JournalScreen} />\n\n                    <Redirect to=\"/auth/login\"/>\n                </Switch>\n            </div>\n\n\n        </Router>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}